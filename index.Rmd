---
title: "Riding the waves of emo "
output: 
    flexdashboard::flex_dashboard:
        orientation: columns
        vertical_layout: scroll
        storyboard: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

Introduction to emo music
=================================================

In my portfolio, I will dive into the world of the genre 'emo'. Many of us might associate the word 'emo' with the subculture: youngsters with black eyeliner, straightened hair and very, very skinny jeans. As with many subcultures, the music came first. The genre of emo originated from the hardcorepunk scene in Washington DC, and was first recognized as its own genre in the late 80s of the last century. To this day, it is a popular genre. This might be due to the fact that the genre has transformed over the years (or so people say). Fans and experts usually distinguish 4 'waves' within emo, which are broadly tied to a specific decade (first wave in the 80s, second wave in the 90s, etc.). These waves are differentiated mostly in terms of loudness. Especially the first wave is known for being very 'loud'.

<br>

This portfolio will revolve around the musical similarities and differences of these four waves. Do these waves actually differ in their musical features? Or is it all more of the same? In order to research this, my corpus will include four playlists created by Michelle Bruton (Spotify name 'Michellewithonel'), a journalist who wrote an [extensive blog on the waves of emo](https://fansided.com/2018/08/15/fourth-wave-emo-revival-bands-tours-definition-music-songs/) in 2018. These playlists are aptly named 'Emo: the first wave' (12 songs), 'Emo: the second wave' (38 songs), 'Emo: the third wave' (33 songs), and 'Emo: the fourth wave' (39 songs).



PLS give me a plot
=================================================
### what does this do?
## Let's try a plot

A first plot:

```{r, fig.width = 10, fig.height = 5, echo=FALSE}
#install.packages("tidyverse")
#install.packages("spotifyr")
#install.packages("remotes")
#install.packages("usethis")
#install.packages("ggplot2")

library(tidyverse)
library(spotifyr)
library(remotes)
library(usethis)
library(ggplot2)

Sys.setenv(SPOTIFY_CLIENT_ID = '7fbf524d5db54f65a16d5c4773753068')
Sys.setenv(SPOTIFY_CLIENT_SECRET = 'afed2c21916d41ffb1ab9b9b3ce766f1')

access_token <- get_spotify_access_token()

wave1 <- get_playlist_audio_features("", "1rcC4T1SuhqqTLw2j5KBEI")
wave2 <- get_playlist_audio_features("", "0x1XvxGALr0yY7lKos4Kg2")
wave3 <- get_playlist_audio_features("", "0k613TUDZYkomz97xX9DeZ")
wave4 <- get_playlist_audio_features("", "3Mck3Ipp6wNmmRgDfYkRza")

## remove day and month from date, just year remains

# make sure the date is indeed a date
# wave1$track.album.release_date <- as.Date(wave1$track.album.release_date)
# wave2$track.album.release_date <- as.Date(wave2$track.album.release_date)
# wave3$track.album.release_date <- as.Date(wave3$track.album.release_date)
# wave4$track.album.release_date <- as.Date(wave4$track.album.release_date)

# add column with release year of track
wave1$release_year <- c(1992, 1992, 1983, 1994, 1985, 1985, 1987, 1987, 1995, 1990, 1991, 1991)
wave2$release_year <- c(1994, 1994, 1994, 1998, 1998, 1996, 1999, 1999, 1999, 1998, 1998, 1996, 1997, 1997, 1997, 1997, 1997, 1998, 1997, 1999, 1999, 1999, 1999, 1999, 2000, 2003, 2000, 2000, 1998, 2002, 2000, 1999, 1997, 1997, 1997, 2000, 2000, 1995)
wave3$release_year <- c(1999, 2001, 2001, 2006, 2003, 2003, 2001, 2003, 2002, 2010, 2002, 2002, 2004, 2005, 2001, 2001, 1999, 1999, 2000, 2000, 2005, 2004, 2003, 2001, 2004, 2005, 2005, 2003, 2000, 2004, 2003, 2017, 2008)
wave4$release_year <- c(2014, 2014, 2010, 2018, 2018, 2017, 2017, 2017, 2010, 2015, 2018, 2016, 2014, 2016, 2017, 2018, 2014, 2013, 2013, 2013, 2014, 2012, 2013, 2018 ,2011, 2013, 2012, 2012, 2013, 2018, 2015, 2013, 2016, 2018, 2013, 2015, 2018, 2017, 2014)

# add column with number of wave
wave1$wave <- "wave1"
wave2$wave <- "wave2"
wave3$wave <- "wave3"
wave4$wave <- "wave4"

# combine data sets 'wave1', 'wave2', 'wave3', 'wave4'.
wave1234 <- rbind(wave1, wave2, wave3, wave4)

# give column names of 'wave1234', to inspect which are unnecessary and can be removed
# names(wave1234)

# remove useless columns
wave1234subset <- wave1234
wave1234subset[ ,c(1,2,3,4,5,20,21,22,23,24,25,26,27,30,32,35,39,41,43,51,52,53,58)] <- list(NULL)


# continue with this, make it more informative and prettier
# ggplot(wave1234subset, aes(x = wave, y = loudness)) + 
#    geom_bar(stat = "summary", fun.y = "mean")

#mean(wave1$loudness)
#mean(wave2$loudness)
#mean(wave3$loudness)
#mean(wave4$loudness)


wave1234subset %>%
    group_by(wave) %>%
    summarise_all(mean) -> wave1234subset.summary
#wave1234subset.summary # Summary statistics


# a nice scatterplot of release year X loudness, per wave
ggplot(wave1234subset, aes(x = release_year, y = loudness, color = wave)) + 
    geom_point(stat = "summary", position = "jitter", alpha=0.7) +
    scale_x_continuous("Release year", 
                       limits = c(1980, 2020)) +
    scale_y_continuous("Loudness") +
    scale_color_discrete("wave") +
    geom_point(data = wave1234subset.summary, shape = 15, size = 5)
```
***
This is my commentary to the plot on the left.

In the plot I have added to my portfolio, you can see data points of all songs I have in my corpus so far, with release year on the x-axis and loudness on the y-axis. Color coded is the wave to which the song belongs (or is assigned to by the creator of the playlists I used to gather my data). As you can see, the mean release year is neatly parallel to the waves distinguished. You can also see that the songs in wave 1 are overall louder than songs of the other three waves. I still have to conduct statistical testing to see whether there is an actual difference.